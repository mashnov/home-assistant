navigation_telegramm:
  script:
    navigation_telegramm:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: "Главное меню"
          data:
            inline_keyboard: 
            - 'Кухня :/kitchen, Коридор :/hall'
            - 'Ванная :/bath, Туалет :/toilet'
            - 'Спальня :/bedroom, Гостиная :/living'
            - 'Балкон :/balcony, Система :/system'
            - 'Закрыть :/hide_menu'

    navigation_telegramm_kitchen:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Кухня
            -----
            Температура {{ states('sensor.temperature_kitchen') }}
            Влажность {{ states('sensor.humidity_kitchen') }}
            -----
            Левое окно {{ iif(is_state('binary_sensor.window_kitchen_left', 'on'), 'открыто', 'закрыто') }}
            Правое окно {{ iif(is_state('binary_sensor.window_kitchen_right', 'on'), 'открыто', 'закрыто') }}
            -----
            Присутствие {{ iif(is_state('binary_sensor.occupancy_kitchen', 'on'), 'обнаружено', 'не обнаружено') }}
          data:
            inline_keyboard: 
            - 'Потолок :/kitchen_toggle_party_light'
            - 'Освещение :/kitchen_toggle_top_light'
            - 'Подсветка :/kitchen_toggle_back_light'
            - 'Ночник :/kitchen_toggle_night_light'
            - 'Шторы :/kitchen_toggle_curtain'
            - 'Назад :/main, Обновить :/kitchen, Закрыть :/hide_menu'

    navigation_telegramm_hall:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Коридор
            -----
            Температура {{ states('sensor.temperature_hall') }}
            Влажность {{ states('sensor.humidity_hall') }}
            -----
            Входная дверь {{ iif(is_state('binary_sensor.door_hall', 'on'), 'открыта', 'закрыта') }}
            -----
            Присутствие {{ iif(is_state('binary_sensor.occupancy_hall', 'on'), 'обнаружено', 'не обнаружено') }}
          data:
            inline_keyboard: 
            - 'Освещение :/hall_toggle_top_light'
            - 'Подсветка :/hall_toggle_back_light'
            - 'Ночник :/hall_toggle_night_light'
            - 'Увлажнитель :/hall_toggle_humidifier'
            - 'Назад :/main, Обновить :/hall, Закрыть :/hide_menu'

    navigation_telegramm_bath:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Ванная
            - Light Top
            - Light Night
            - Dehumidifier
            - Door
            - Motion
            - Temperature
            - Humidity
            - Pressure
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

    navigation_telegramm_toilet:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Туалет
            - Light Top
            - Light Night
            - Door
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

    navigation_telegramm_bedroom:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Спальня
            - Light Top
            - Light Back
            - Humidifier
            - Curtain
            - Door
            - Window Left
            - Window Right
            - Temperature
            - Humidity
            - Pressure
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

    navigation_telegramm_living:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Гостиная
            - Light Top
            - Light Back
            - Camera
            - Door
            - Window
            - Curtain
            - Humidifier
            - Temperature
            - Humidity
            - Pressure
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

    navigation_telegramm_balcony:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: |
            Балкон
            - Light Top 
            - Light Back 
            - Sprinkler 
            - Outlet 
            - Door 
            - Illuminance 
            - Temperature 
            - Humidity 
            - Pressure 
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

    navigation_telegramm_system:
      mode: 'queued'
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: "Система"
          data:
            inline_keyboard: 
            - 'Назад :/main, Закрыть :/hide_menu'

  automation:
  - alias: navigation_telegramm
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/main'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/main'
    action:
    - service: script.navigation_telegramm

  - alias: navigation_telegramm_kitchen
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/kitchen'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/kitchen'
    action:
    - service: script.navigation_telegramm_kitchen

  - alias: navigation_telegramm_hall
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/hall'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/hall'
    action:
    - service: script.navigation_telegramm_hall

  - alias: navigation_telegramm_bath
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/bath'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/bath'
    action:
    - service: script.navigation_telegramm_bath

  - alias: navigation_telegramm_toilet
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/toilet'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/toilet'
    action:
    - service: script.navigation_telegramm_toilet

  - alias: navigation_telegramm_bedroom'
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/bedroom'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/bedroom'
    action:
    - service: script.navigation_telegramm_bedroom

  - alias: navigation_telegramm_living
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/living'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/living'
    action:
    - service: script.navigation_telegramm_living

  - alias: navigation_telegramm_balcony
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/balcony'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/balcony'
    action:
    - service: script.navigation_telegramm_balcony

  - alias: navigation_telegramm_system'
    mode: 'queued'
    trigger:
    - platform: event
      event_type: telegram_command
      event_data:
        command: '/system'
    - platform: event
      event_type: telegram_callback
      event_data:
        command: '/system'
    action:
    - service: script.navigation_telegramm_system

