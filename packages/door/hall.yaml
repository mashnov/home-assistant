door_hall:
  input_text:
    door_hall_open_text:
      initial: 'Коридор. Входная дверь открыта'
    door_hall_closed_text:
      initial: 'Коридор. Входная дверь закрыта'

  automation:
  - alias: 'door_hall_open'
    mode: 'queued'
    trigger:
    - id: 'open'
      platform: state
      entity_id: 'binary_sensor.door_hall'
      from: 'off'
      to: 'on'
    - id: 'close'
      platform: state
      entity_id: 'binary_sensor.door_hall'
      from: 'on'
      to: 'off'
    action:
    - choose:
      - conditions:
        - condition: trigger
          id: 'open'
        sequence:
        - service: script.camera_living_take_photo
        - service: script.telegramm_send_text
          data_template:
            message: "{{ states('input_text.door_hall_open_text') }}"
      - conditions:
        - condition: trigger
          id: 'close'
        sequence:
        - service: script.camera_living_take_photo
        - service: script.telegramm_send_text
          data_template:
            message: "{{ states('input_text.door_hall_closed_text') }}"
