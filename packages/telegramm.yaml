telegramm:
  automation:
# ============== TELEGRAMM

  - alias: telegram_remove_callback_handler'
    initial_state: true
    trigger:
    - platform: event
      event_type: telegram_callback
    action:
    - service: script.delete_telegramm_message
      data_template:
        message_id: '{{ trigger.event.data.message.message_id }}'
        chat_id: '{{ trigger.event.data.chat_id }}'

  - alias: telegram_message_handler'
    initial_state: true
    trigger:
    - platform: event
      event_type: telegram_command
    - platform: event
      event_type: telegram_callback
    action:
    - service: script.handle_telegramm_event
      data_template:
        option: '{{ trigger.event.data.command }}'

  script:
# ============== TELEGRAMM MESSAGES
    delete_telegramm_message:
      sequence:
      - service: telegram_bot.delete_message
        data_template:
          message_id: '{{ message_id }}'
          chat_id: '{{ chat_id }}' 

# ============== TELEGRAMM ACTIONS
    handle_telegramm_event:
      sequence:
      - service: script.turn_on
        data_template:
          variables:
            options: '[{{ option }}]'
          entity_id: >
            {%- if option == '/restart' -%}
                {{ 'script.system_restart_handler' }}
            {%- elif option == '/menu' -%}
                {{ 'script.show_telegramm_home_menu' }}
            {%- elif option == '/kitchen' -%}
                {{ 'script.show_telegramm_kitchen_menu' }}
            {%- elif option == '/bath' -%}
                {{ 'script.show_telegramm_bath_menu' }}
            {%- elif option == '/toilet' -%}
                {{ 'script.show_telegramm_toilet_menu' }}
            {%- elif option == '/hall' -%}
                {{ 'script.show_telegramm_hall_menu' }}
            {%- elif option == '/bedroom' -%}
                {{ 'script.show_telegramm_bedroom_menu' }}
            {%- elif option == '/living' -%}
                {{ 'script.show_telegramm_living_menu' }}
            {%- elif option == '/balcony' -%}
                {{ 'script.show_telegramm_balcony_menu' }}
            {%- elif option == '/status' -%}
                {{ 'script.show_telegramm_status_menu' }}
            {%- endif -%}

    show_telegramm_home_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üè° –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

            üîµ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ........... {{ states('sensor.t_average') }} ¬∞C
            üîµ –í–ª–∞–∂–Ω–æ—Å—Ç—å ............... {{ states('sensor.h_average') }} %
            üîµ –î–∞–≤–ª–µ–Ω–∏–µ ................. {{ states('sensor.p_average') }} –º–º
          data:
            inline_keyboard: 
            - '–ö—É—Ö–Ω—è:/kitchen, –í–∞–Ω–Ω–∞—è:/bath'
            - '–¢—É–∞–ª–µ—Ç:/toilet, –ö–æ—Ä–∏–¥–æ—Ä:/hall'
            - '–°–ø–∞–ª—å–Ω—è:/bedroom, –ì–æ—Å—Ç–∏–Ω–∞—è:/living'
            - '–ë–∞–ª–∫–æ–Ω:/balcony,  –û—Ç—á–µ—Ç:/status'
            - '–ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_kitchen_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            ü•£ –ö—É—Ö–Ω—è

            {{ iif(is_state('binary_sensor.t_kitchen_air_is_normal', 'on'), 'üü¢', 'üî¥') }} –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ................ {{ states('sensor.t_kitchen') }} ¬∞C
            {{ iif(is_state('binary_sensor.h_kitchen_is_normal', 'on'), 'üü¢', 'üî¥') }} –í–ª–∞–∂–Ω–æ—Å—Ç—å .................... {{ states('sensor.h_kitchen') }} %
            {{ iif(is_state('binary_sensor.p_kitchen_is_normal', 'on'), 'üü¢', 'üü†') }} –î–∞–≤–ª–µ–Ω–∏–µ ...................... {{ states('sensor.p_kitchen') }} –º–º
            üîµ –ü–æ–ª–æ–∂–µ–Ω–∏–µ —à—Ç–æ—Ä—ã ....... {{ states('sensor.curtain_kitchen_position') }} %

            {{ iif(is_state('binary_sensor.ventilation_kitchen_left_window_virtual', 'on'), 'üü† –õ–µ–≤–æ–µ –æ–∫–Ω–æ ................... –û—Ç–∫—Ä—ã—Ç–æ', 'üü¢ –õ–µ–≤–æ–µ –æ–∫–Ω–æ ................... –ó–∞–∫—Ä—ã—Ç–æ') }}
            {{ iif(is_state('binary_sensor.ventilation_kitchen_right_window_virtual', 'on'), 'üü† –ü—Ä–∞–≤–æ–µ –æ–∫–Ω–æ ................. –û—Ç–∫—Ä—ã—Ç–æ', 'üü¢ –ü—Ä–∞–≤–æ–µ –æ–∫–Ω–æ ................. –ó–∞–∫—Ä—ã—Ç–æ') }}

            {{ iif(is_state('binary_sensor.toplight_kitchen_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ ................... –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ ................... –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.backlight_kitchen_light_is_on', 'on'), 'üü† –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ..................... –í–∫–ª—é—á–µ–Ω–∞', 'üü¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ..................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
            {{ iif(is_state('binary_sensor.nightlight_kitchen_light_is_on', 'on'), 'üü† –ù–æ—á–Ω–∏–∫ .......................... –í–∫–ª—é—á–µ–Ω', 'üü¢ –ù–æ—á–Ω–∏–∫ .......................... –í—ã–∫–ª—é—á–µ–Ω') }}

            {{ iif(is_state('binary_sensor.solar_kitchen_sun_is_hit', 'on'), 'üü† –°–æ–ª–Ω—Ü–µ .......................... –°–≤–µ—Ç–∏—Ç –≤ –æ–∫–Ω–∞', 'üü¢ –°–æ–ª–Ω—Ü–µ ......................... –ù–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–∫–Ω–∞') }}

            {{ iif(is_state('switch.kitchen_switch_right', 'on'), 'üü¢ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ..... –í–∫–ª—é—á–µ–Ω', 'üî¥ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ..... –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('switch.kitchen_switch_left', 'on'), 'üü¢ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ... –í–∫–ª—é—á–µ–Ω', 'üî¥ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ... –í—ã–∫–ª—é—á–µ–Ω') }}


            {{ iif(is_state('binary_sensor.occupancy_kitchen_occupancy_virtual', 'on'), 'üü† –î–≤–∏–∂–µ–Ω–∏–µ ..................... –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ', 'üü¢ –î–≤–∏–∂–µ–Ω–∏–µ ..................... –ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_bath_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üõÅ –í–∞–Ω–Ω–∞—è

            {{ iif(is_state('binary_sensor.t_bath_air_is_normal', 'on'), 'üü¢', 'üî¥') }} –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ............... {{ states('sensor.t_bath') }} ¬∞C
            {{ iif(is_state('binary_sensor.h_bath_is_normal', 'on'), 'üü¢', 'üî¥') }} –í–ª–∞–∂–Ω–æ—Å—Ç—å ................... {{ states('sensor.h_bath') }} %
            {{ iif(is_state('binary_sensor.p_bath_is_normal', 'on'), 'üü¢', 'üü†') }} –î–∞–≤–ª–µ–Ω–∏–µ ..................... {{ states('sensor.p_bath') }} –º–º
            
            {{ iif(is_state('binary_sensor.occupancy_bath_occupancy_virtual', 'on'), 'üü† –î–≤–∏–∂–µ–Ω–∏–µ .................... –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ', 'üü¢ –î–≤–∏–∂–µ–Ω–∏–µ .................... –ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ') }}

            {{ iif(is_state('binary_sensor.toplight_bath_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.nightlight_bath_light_is_on', 'on'), 'üü† –ù–æ—á–Ω–∏–∫ ......................... –í–∫–ª—é—á–µ–Ω', 'üü¢ –ù–æ—á–Ω–∏–∫ ......................... –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('fan.hydration_toilet_fan', 'on'), 'üü† –í—ã—Ç—è–∂–∫–∞ ....................... –í–∫–ª—é—á–µ–Ω–∞', 'üü¢ –í—ã—Ç—è–∂–∫–∞ ....................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_toilet_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üöΩ –¢—É–∞–ª–µ—Ç 

            üîµ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ........... {{ states('sensor.t_average') }} ¬∞C
            üîµ –í–ª–∞–∂–Ω–æ—Å—Ç—å ............... {{ states('sensor.h_average') }} %
            üîµ –î–∞–≤–ª–µ–Ω–∏–µ ................. {{ states('sensor.p_average') }} –º–º
            
            {{ iif(is_state('binary_sensor.occupancy_toilet_is_occupancy', 'on'), 'üî¥ –°–æ—Å—Ç–æ—è–Ω–∏–µ ............... –ó–∞–Ω—è—Ç–æ', 'üü¢ –°–æ—Å—Ç–æ—è–Ω–∏–µ ............... –°–≤–æ–±–æ–¥–Ω–æ') }}
            {{ iif(is_state('binary_sensor.hall_door', 'on'), 'üü† –î–≤–µ—Ä—å ....................... –û—Ç–∫—Ä—ã—Ç–∞', 'üü¢ –î–≤–µ—Ä—å ....................... –ó–∞–∫—Ä—ã—Ç–∞') }}

            {{ iif(is_state('binary_sensor.toplight_toilet_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ .............. –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ .............. –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.nightlight_toilet_light_is_on', 'on'), 'üü† –ù–æ—á–Ω–∏–∫ ..................... –í–∫–ª—é—á–µ–Ω', 'üü¢ –ù–æ—á–Ω–∏–∫ ..................... –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('fan.hydration_toilet_fan', 'on'), 'üü† –í—ã—Ç—è–∂–∫–∞ ................... –í–∫–ª—é—á–µ–Ω–∞', 'üü¢ –í—ã—Ç—è–∂–∫–∞ ................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_hall_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üß• –ö–æ—Ä–∏–¥–æ—Ä

            {{ iif(is_state('binary_sensor.t_hall_air_is_normal', 'on'), 'üü¢', 'üî¥') }} –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ............... {{ states('sensor.t_hall') }} ¬∞C
            {{ iif(is_state('binary_sensor.h_hall_is_normal', 'on'), 'üü¢', 'üî¥') }} –í–ª–∞–∂–Ω–æ—Å—Ç—å ................... {{ states('sensor.h_hall') }} %
            {{ iif(is_state('binary_sensor.p_hall_is_normal', 'on'), 'üü¢', 'üü†') }} –î–∞–≤–ª–µ–Ω–∏–µ ..................... {{ states('sensor.p_hall') }} –º–º
            
            {{ iif(is_state('binary_sensor.hall_door', 'on'), 'üü† –í—Ö–æ–¥–Ω–∞—è –¥–≤–µ—Ä—å ............. –û—Ç–∫—Ä—ã—Ç–∞', 'üü¢ –í—Ö–æ–¥–Ω–∞—è –¥–≤–µ—Ä—å ............. –ó–∞–∫—Ä—ã—Ç–∞') }}
            {{ iif(is_state('binary_sensor.occupancy_hall_occupancy_virtual', 'on'), 'üü† –î–≤–∏–∂–µ–Ω–∏–µ ..................... –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ', 'üü¢ –î–≤–∏–∂–µ–Ω–∏–µ ..................... –ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ') }}
            
            {{ iif(is_state('fan.hydration_hall_humidifier', 'on'), 'üü¢ –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å ................ –í–∫–ª—é—á–µ–Ω', 'üü† –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å:................ –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('binary_sensor.hydration_hall_humidifier_is_empty', 'on'), 'üî¥ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ .... –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å', 'üîµ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ .... –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ') }}
            
            {{ iif(is_state('switch.hall_switch', 'on'), 'üü¢ –í—ã–∫–ª—é—á–∞—Ç–µ–ª—å ............... –í–∫–ª—é—á–µ–Ω', 'üî¥ –í—ã–∫–ª—é—á–∞—Ç–µ–ª—å ............... –í—ã–∫–ª—é—á–µ–Ω') }}
            
            {{ iif(is_state('binary_sensor.toplight_hall_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.backlight_hall_light_is_on', 'on'), 'üü¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ .................... –í–∫–ª—é—á–µ–Ω–∞', 'üü† –ü–æ–¥—Å–≤–µ—Ç–∫–∞ .................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
            {{ iif(is_state('binary_sensor.nightlight_hall_light_is_on', 'on'), 'üü† –ù–æ—á–Ω–∏–∫ ......................... –í–∫–ª—é—á–µ–Ω', 'üü¢ –ù–æ—á–Ω–∏–∫ ......................... –í—ã–∫–ª—é—á–µ–Ω') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_bedroom_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üõå –°–ø–∞–ª—å–Ω—è

            {{ iif(is_state('binary_sensor.t_bedroom_air_is_normal', 'on'), 'üü¢', 'üî¥') }} –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ................. {{ states('sensor.t_bedroom') }} ¬∞C
            {{ iif(is_state('binary_sensor.h_bedroom_is_normal', 'on'), 'üü¢', 'üî¥') }} –í–ª–∞–∂–Ω–æ—Å—Ç—å ..................... {{ states('sensor.h_bedroom') }} %
            {{ iif(is_state('binary_sensor.p_living_is_normal', 'on'), 'üü¢', 'üü†') }} –î–∞–≤–ª–µ–Ω–∏–µ ....................... {{ states('sensor.p_bedroom') }} –º–º
            {{ iif(is_state('binary_sensor.solar_bedroom_sun_is_hit', 'on'), 'üü† –°–æ–ª–Ω—Ü–µ ........................... –°–≤–µ—Ç–∏—Ç –≤ –æ–∫–Ω–∞', 'üü¢ –°–æ–ª–Ω—Ü–µ ........................... –ù–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–∫–Ω–∞') }}
            üîµ –ü–æ–ª–æ–∂–µ–Ω–∏–µ —à—Ç–æ—Ä—ã ........ {{ states('sensor.curtain_bedroom_position') }} %
            
            {{ iif(is_state('binary_sensor.ventilation_bedroom_left_window_virtual', 'on'), 'üü† –õ–µ–≤–æ–µ –æ–∫–Ω–æ .................... –û—Ç–∫—Ä—ã—Ç–æ', 'üü¢ –õ–µ–≤–æ–µ –æ–∫–Ω–æ .................... –ó–∞–∫—Ä—ã—Ç–æ') }}
            {{ iif(is_state('binary_sensor.ventilation_bedroom_right_window_virtual', 'on'), 'üü† –ü—Ä–∞–≤–æ–µ –æ–∫–Ω–æ .................. –û—Ç–∫—Ä—ã—Ç–æ', 'üü¢ –ü—Ä–∞–≤–æ–µ –æ–∫–Ω–æ .................. –ó–∞–∫—Ä—ã—Ç–æ') }}
            {{ iif(is_state('binary_sensor.ventilation_bedroom_entry_door_virtual', 'on'), 'üîµ –î–≤–µ—Ä—å –≤ –∫–æ–º–Ω–∞—Ç—É ........... –û—Ç–∫—Ä—ã—Ç–∞', 'üîµ –î–≤–µ—Ä—å –≤ –∫–æ–º–Ω–∞—Ç—É ........... –ó–∞–∫—Ä—ã—Ç–∞') }}

            {{ iif(is_state('fan.hydration_bedroom_humidifier', 'on'), 'üü¢ –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å .................. –í–∫–ª—é—á–µ–Ω', 'üü† –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å .................. –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('binary_sensor.hydration_bedroom_humidifier_is_empty', 'on'), 'üî¥ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ ...... –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å', 'üîµ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ ...... –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ') }}

            {{ iif(is_state('switch.bedroom_switch_right', 'on'), 'üü¢ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ...... –í–∫–ª—é—á–µ–Ω', 'üî¥ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å ...... –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('switch.bedroom_switch_left', 'on'), 'üü¢ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .... –í–∫–ª—é—á–µ–Ω', 'üî¥ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .... –í—ã–∫–ª—é—á–µ–Ω') }}

            {{ iif(is_state('binary_sensor.toplight_bedroom_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ .................... –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ .................... –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.backlight_bedroom_light_is_on', 'on'), 'üü¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ...................... –í–∫–ª—é—á–µ–Ω–∞', 'üü† –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ...................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_living_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message: | 
            üìö –ì–æ—Å—Ç–∏–Ω–∞—è

            {{ iif(is_state('binary_sensor.t_living_air_is_normal', 'on'), 'üü¢', 'üî¥') }} –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ............... {{ states('sensor.t_living') }} ¬∞C
            {{ iif(is_state('binary_sensor.h_living_is_normal', 'on'), 'üü¢', 'üî¥') }} –í–ª–∞–∂–Ω–æ—Å—Ç—å ................... {{ states('sensor.h_living') }} %
            {{ iif(is_state('binary_sensor.p_living_is_normal', 'on'), 'üü¢', 'üü†') }} –î–∞–≤–ª–µ–Ω–∏–µ ..................... {{ states('sensor.p_living') }} –º–º
            {{ iif(is_state('binary_sensor.solar_living_sun_is_hit', 'on'), 'üü† –°–æ–ª–Ω—Ü–µ ......................... –°–≤–µ—Ç–∏—Ç –≤ –æ–∫–Ω–∞', 'üü¢ –°–æ–ª–Ω—Ü–µ ......................... –ù–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–∫–Ω–∞') }}
            üîµ –ü–æ–ª–æ–∂–µ–Ω–∏–µ —à—Ç–æ—Ä—ã ...... {{ states('sensor.curtain_living_position') }} %

            {{ iif(is_state('binary_sensor.ventilation_living_balcony_window_virtual', 'on'), 'üü† –û–∫–Ω–æ ............................. –û—Ç–∫—Ä—ã—Ç–æ', 'üü¢ –û–∫–Ω–æ ............................. –ó–∞–∫—Ä—ã—Ç–æ') }}
            {{ iif(is_state('binary_sensor.ventilation_living_entry_door_virtual', 'on'), 'üîµ –î–≤–µ—Ä—å –≤ –∫–æ–º–Ω–∞—Ç—É .......... –û—Ç–∫—Ä—ã—Ç–∞', 'üîµ –î–≤–µ—Ä—å –≤ –∫–æ–º–Ω–∞—Ç—É .......... –ó–∞–∫—Ä—ã—Ç–∞') }}

            {{ iif(is_state('switch.living_switch_right', 'on'), 'üü¢ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .... –í–∫–ª—é—á–µ–Ω', 'üî¥ –õ–µ–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .... –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('switch.living_switch_left', 'on'), 'üü¢ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .. –í–∫–ª—é—á–µ–Ω', 'üî¥ –ü—Ä–∞–≤—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å .. –í—ã–∫–ª—é—á–µ–Ω') }}

            {{ iif(is_state('fan.hydration_living_humidifier', 'on'), 'üü¢ –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å ................ –í–∫–ª—é—á–µ–Ω', 'üü† –£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å ................ –í—ã–∫–ª—é—á–µ–Ω') }}
            {{ iif(is_state('binary_sensor.hydration_living_humidifier_is_empty', 'on'), 'üî¥ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ .... –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å', 'üîµ –í–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ .... –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ') }}

            {{ iif(is_state('binary_sensor.toplight_living_light_is_on', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ .................. –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('binary_sensor.backlight_living_light_is_on', 'on'), 'üü¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ .................... –í–∫–ª—é—á–µ–Ω–∞', 'üü† –ü–æ–¥—Å–≤–µ—Ç–∫–∞ .................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/menu, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

    show_telegramm_balcony_menu: 
      sequence:
      - service: notify.telegram_home_group_id
        data_template:
          message:  | 
            {{ now().strftime('%H:%M %d-%m-%Y') }}
            ü™¥ –ë–∞–ª–∫–æ–Ω

            üîµ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ........... {{ states('sensor.t_balcony') }} ¬∞C
            üîµ –í–ª–∞–∂–Ω–æ—Å—Ç—å ............... {{ states('sensor.h_balcony') }} %
            üîµ –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å ......... {{ states('sensor.sun_illuminance_virtual') }} Lx

            {{ iif(is_state('switch.ventilation_living_balcony_door_virtual', 'on'), 'üü† –î–≤–µ—Ä—å –Ω–∞ –±–∞–ª–∫–æ–Ω ...... –û—Ç–∫—Ä—ã—Ç–∞', 'üü¢ –î–≤–µ—Ä—å –Ω–∞ –±–∞–ª–∫–æ–Ω ...... –ó–∞–∫—Ä—ã—Ç–∞') }}

            {{ iif(is_state('switch.balcony_socket', 'on'), 'üü† –†–æ–∑–µ—Ç–∫–∞ ..................... –í–∫–ª—é—á–µ–Ω–∞', 'üü¢ –†–æ–∑–µ—Ç–∫–∞ ..................... –í—ã–∫–ª—é—á–µ–Ω–∞') }}
            {{ iif(is_state('fan.balcony_fountain', 'on'), 'üü† –§–æ–Ω—Ç–∞–Ω ...................... –í–∫–ª—é—á–µ–Ω', 'üü¢ –§–æ–Ω—Ç–∞–Ω ...................... –í—ã–∫–ª—é—á–µ–Ω') }}

            {{ iif(is_state('light.balcony_light_relay_l2', 'on'), 'üü† –û—Å–≤–µ—â–µ–Ω–∏–µ ............... –í–∫–ª—é—á–µ–Ω–æ', 'üü¢ –û—Å–≤–µ—â–µ–Ω–∏–µ ............... –í—ã–∫–ª—é—á–µ–Ω–æ') }}
            {{ iif(is_state('light.balcony_bottom_light', 'on'), 'üü† –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ................. –í–∫–ª—é—á–µ–Ω–∞', 'üü¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ................. –í—ã–∫–ª—é—á–µ–Ω–∞') }}
          data:
            inline_keyboard: 
            - '–ù–∞–∑–∞–¥:/home, –ó–∞–∫—Ä—ã—Ç—å:/hideMenu'

