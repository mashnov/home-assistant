bulb_light_kitchen:
  light:
  - name: bulb_light_kitchen_1
    platform: xiaomi_miio_philipslight
    model: philips.light.downlight
    host: !secret kitchen_lamp_1_host
    token: !secret kitchen_lamp_1_token
  - name: bulb_light_kitchen_2
    platform: xiaomi_miio_philipslight
    model: philips.light.downlight
    host: !secret kitchen_lamp_2_host
    token: !secret kitchen_lamp_2_token
  - name: bulb_light_kitchen_3
    platform: xiaomi_miio_philipslight
    model: philips.light.downlight
    host: !secret kitchen_lamp_3_host
    token: !secret kitchen_lamp_3_token
  - name: bulb_light_kitchen_4
    platform: xiaomi_miio_philipslight
    model: philips.light.downlight
    host: !secret kitchen_lamp_4_host
    token: !secret kitchen_lamp_4_token
  - name: bulb_light_kitchen_5
    platform: xiaomi_miio_philipslight
    model: philips.light.downlight
    host: !secret kitchen_lamp_5_host
    token: !secret kitchen_lamp_5_token

  - platform: group
    name: bulb_light_kitchen
    entities:
    - light.bulb_light_kitchen_1
    - light.bulb_light_kitchen_2
    - light.bulb_light_kitchen_3
    - light.bulb_light_kitchen_4
    - light.bulb_light_kitchen_5

  automation:
  - alias: 'bulb_light_kitchen_1'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'light.bulb_light_kitchen_1'
    - platform: state
      entity_id: 'sensor.bulb_light_brightness'
    - platform: state
      entity_id: 'sensor.bulb_light_temperature'
    condition:
    - condition: state
      entity_id: light.bulb_light_kitchen_1
      state: 'on'
    action:
    - service: light.turn_on
      entity_id: light.bulb_light_kitchen_1
      data_template:
        brightness: "{{ states('sensor.bulb_light_brightness') }}"
        color_temp: "{{ states('sensor.bulb_light_temperature') }}"

  - alias: 'bulb_light_kitchen_2'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'light.bulb_light_kitchen_2'
    - platform: state
      entity_id: 'sensor.bulb_light_brightness'
    - platform: state
      entity_id: 'sensor.bulb_light_temperature'
    condition:
    - condition: state
      entity_id: light.bulb_light_kitchen_2
      state: 'on'
    action:
    - service: light.turn_on
      entity_id: light.bulb_light_kitchen_2
      data_template:
        brightness: "{{ states('sensor.bulb_light_brightness') }}"
        color_temp: "{{ states('sensor.bulb_light_temperature') }}"

  - alias: 'bulb_light_kitchen_3'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'light.bulb_light_kitchen_3'
    - platform: state
      entity_id: 'sensor.bulb_light_brightness'
    - platform: state
      entity_id: 'sensor.bulb_light_temperature'
    condition:
    - condition: state
      entity_id: light.bulb_light_kitchen_3
      state: 'on'
    action:
    - service: light.turn_on
      entity_id: light.bulb_light_kitchen_3
      data_template:
        brightness: "{{ states('sensor.bulb_light_brightness') }}"
        color_temp: "{{ states('sensor.bulb_light_temperature') }}"

  - alias: 'bulb_light_kitchen_4'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'light.bulb_light_kitchen_4'
    - platform: state
      entity_id: 'sensor.bulb_light_brightness'
    - platform: state
      entity_id: 'sensor.bulb_light_temperature'
    condition:
    - condition: state
      entity_id: light.bulb_light_kitchen_4
      state: 'on'
    action:
    - service: light.turn_on
      entity_id: light.bulb_light_kitchen_4
      data_template:
        brightness: "{{ states('sensor.bulb_light_brightness') }}"
        color_temp: "{{ states('sensor.bulb_light_temperature') }}"

  - alias: 'bulb_light_kitchen_5'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'light.bulb_light_kitchen_5'
    - platform: state
      entity_id: 'sensor.bulb_light_brightness'
    - platform: state
      entity_id: 'sensor.bulb_light_temperature'
    condition:
    - condition: state
      entity_id: light.bulb_light_kitchen_5
      state: 'on'
    action:
    - service: light.turn_on
      entity_id: light.bulb_light_kitchen_5
      data_template:
        brightness: "{{ states('sensor.bulb_light_brightness') }}"
        color_temp: "{{ states('sensor.bulb_light_temperature') }}"
