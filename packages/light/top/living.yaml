light_top_living:
  light:
  - platform: group
    name: light_top_living_group
    entities:
    - light.light_xiaomi_living_1
    - light.light_xiaomi_living_2
    - light.light_xiaomi_living_3
    - light.light_xiaomi_living_4
    - light.light_xiaomi_living_5
    - light.light_xiaomi_living_6

  - platform: template
    lights:
      light_top_living:
        unique_id: light_top_living
        value_template: "{{ is_state('light.light_top_living_group', 'on') }}"
        level_template: "{{ state_attr('light.light_top_living_group', 'brightness') }}"
        temperature_template: "{{ state_attr('light.light_top_living_group', 'color_temp') }}"
        turn_on:
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_1
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_2
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_3
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_4
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_5
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_6
        turn_off:
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_6
        - delay: 00:00:00.2
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_5
        - delay: 00:00:00.2
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_4
        - delay: 00:00:00.2
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_3
        - delay: 00:00:00.2
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_2
        - delay: 00:00:00.2
        - service: light.turn_off
          entity_id: light.light_xiaomi_living_1
        set_level:
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_1
          data_template:
            brightness: "{{ brightness }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_2
          data_template:
            brightness: "{{ brightness }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_3
          data_template:
            brightness: "{{ brightness }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_4
          data_template:
            brightness: "{{ brightness }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_5
          data_template:
            brightness: "{{ brightness }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_6
          data_template:
            brightness: "{{ brightness }}"
        set_temperature:
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_1
          data_template:
            color_temp: "{{ color_temp }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_2
          data_template:
            color_temp: "{{ color_temp }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_3
          data_template:
            color_temp: "{{ color_temp }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_4
          data_template:
            color_temp: "{{ color_temp }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_5
          data_template:
            color_temp: "{{ color_temp }}"
        - delay: 00:00:00.2
        - service: light.turn_on
          entity_id: light.light_xiaomi_living_6
          data_template:
            color_temp: "{{ color_temp }}"
