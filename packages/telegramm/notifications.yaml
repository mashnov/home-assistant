telegramm_notifications:
  automation:

  - alias: 'telegramm_message_system_shutdown'
    mode: 'queued'
    trigger:
    - platform: homeassistant
      event: shutdown
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

  - alias: 'telegramm_message_system_start'
    mode: 'queued'
    trigger:
    - platform: homeassistant
      event: start
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –°—Ç–∞—Ä—Ç —Å–∏—Å—Ç–µ–º—ã

  - alias: 'telegramm_message_system_backup'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'sensor.backup_state'
      to: 'error'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –û—à–∏–±–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

  - alias: 'telegramm_message_system_backup'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.is_backed_up'
      from: 'off'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

  - alias: 'telegramm_message_power'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'binary_sensor.rpi_power_status'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∏—Ç–∞–Ω–∏–µ–º

  - alias: 'telegramm_messagee_system_update'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'update.home_assistant_core_update'
      to: 'on'
    - platform: state
      entity_id: 'update.home_assistant_operating_system_update'
      to: 'on'
    - platform: state
      entity_id: 'update.home_assistant_supervisor_update'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

  - alias: 'telegramm_messagee_plugin_update'
    mode: 'queued'
    trigger:
    - platform: state
      entity_id: 'update.tailscale_update'
      to: 'on'
    - platform: state
      entity_id: 'update.zigbee2mqtt_update'
      to: 'on'
    - platform: state
      entity_id: 'update.mosquitto_broker_update'
      to: 'on'
    - platform: state
      entity_id: 'update.home_assistant_google_drive_backup_update'
      to: 'on'
    - platform: state
      entity_id: 'update.file_editor_update'
      to: 'on'
    - platform: state
      entity_id: 'update.terminal_ssh_update'
      to: 'on'
    - platform: state
      entity_id: 'update.matter_server_update'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

  - alias: 'telegramm_messagee_hacs_update'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.hacs
      above: 0
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ HACS

  - alias: 'telegramm_message_balcony_door_open'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.door_balcony'
      from: 'off'
      to: 'on'
    action:
    - service: script.camera_living_take_photo
    - service: script.telegramm_send_text
      data_template:
        message: |
          ü™¥ –ë–∞–ª–∫–æ–Ω ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç–∞

  - alias: 'telegramm_message_balcony_door_close'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.door_balcony'
      from: 'on'
      to: 'off'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ü™¥ –ë–∞–ª–∫–æ–Ω ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –î–≤–µ—Ä—å –∑–∞–∫—Ä—ã—Ç–∞

  - alias: 'telegramm_message_hall_door_open'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.door_hall'
      from: 'off'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üß• –ö–æ—Ä–∏–¥–æ—Ä ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          {{ states('input_text.telegramm_door_open_text') }}

  - alias: 'telegramm_message_hall_door_close'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.door_hall'
      from: 'on'
      to: 'off'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üß• –ö–æ—Ä–∏–¥–æ—Ä ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          {{ states('input_text.telegramm_door_closed_text') }}

  - alias: 'telegramm_message_doorbell_inside'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.doorbell_hall_inside'
      from: 'on'
      to: 'off'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üè† –î–æ–º ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –ö—Ç–æ-—Ç–æ –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É –∑–≤–æ–Ω–∫–∞ –≤ –∫–æ–æ–∏–¥–æ—Ä–µ

  - alias: 'telegramm_message_doorbell_outside'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.doorbell_hall_outside'
      from: 'on'
      to: 'off'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üè† –î–æ–º ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –ö—Ç–æ-—Ç–æ –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É –∑–≤–æ–Ω–∫–∞ —É –ª–∏—Ñ—Ç–∞

  - alias: 'telegramm_message_hygrostat_hall_empty'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.hygrostat_hall_is_empty'
      from: 'off'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üß• –ö–æ—Ä–∏–¥–æ—Ä ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          
          –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –≤–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ

          –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {{ states('sensor.temperature_hall') }} ¬∞C
          –í–ª–∞–∂–Ω–æ—Å—Ç—å: {{ states('sensor.humidity_hall') }} %

  - alias: 'telegramm_message_hygrostat_bedroom_empty'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.hygrostat_bedroom_is_empty'
      from: 'off'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üõèÔ∏è –°–ø–∞–ª—å–Ω—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})

          –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –≤–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ

          –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {{ states('sensor.temperature_bedroom') }} ¬∞C
          –í–ª–∞–∂–Ω–æ—Å—Ç—å: {{ states('sensor.humidity_bedroom') }} %

  - alias: 'telegramm_message_hygrostat_living_empty'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'binary_sensor.hygrostat_living_is_empty'
      from: 'off'
      to: 'on'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üõãÔ∏è –ì–æ—Å—Ç–∏–Ω–∞—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})

          –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –≤–æ–¥–∞ –≤ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª–µ

          –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {{ states('sensor.temperature_living') }} ¬∞C
          –í–ª–∞–∂–Ω–æ—Å—Ç—å: {{ states('sensor.humidity_living') }} %

  - alias: 'telegramm_message_zodiak'
    mode: 'queued'
    trigger:
      platform: state
      entity_id: 'sensor.zodiac'
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ‚ú® –ó–æ–¥–∏–∞–∫ ({{ now().timestamp() | timestamp_custom('%H:%M') }})

          –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –Ω–æ–≤–æ–≥–æ –∑–Ω–∞–∫–∞.
          –ù–æ–≤—ã–π –∑–Ω–∞–∫: {{ states('sensor.zodiac') }}

  - alias: 'telegramm_messagee_mold_kitchen'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.mold_kitchen
      above: 70
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          ü•£ –ö—É—Ö–Ω—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –†–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏ {{ states('sensor.sensor.mold_kitchen') }} %

  - alias: 'telegramm_messagee_mold_hall'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.mold_hall
      above: 70
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üß• –ö–æ—Ä–∏–¥–æ—Ä ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –†–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏ {{ states('sensor.sensor.mold_hall') }} %

  - alias: 'telegramm_messagee_mold_bath'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.mold_bath
      above: 70
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üõÅ –í–∞–Ω–Ω–∞—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –†–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏ {{ states('sensor.sensor.mold_bath') }} %

  - alias: 'telegramm_messagee_mold_bedroom'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.mold_bedroom
      above: 70
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üõèÔ∏è –°–ø–∞–ª—å–Ω—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –†–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏ {{ states('sensor.sensor.mold_bedroom') }} %

  - alias: 'telegramm_messagee_mold_living'
    mode: 'queued'
    trigger:
    - platform: numeric_state
      entity_id: sensor.mold_living
      above: 70
    action:
    - service: script.telegramm_send_text
      data_template:
        message: |
          üõãÔ∏è –ì–æ—Å—Ç–∏–Ω–∞—è ({{ now().timestamp() | timestamp_custom('%H:%M') }})
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –†–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏ {{ states('sensor.sensor.mold_living') }} %
