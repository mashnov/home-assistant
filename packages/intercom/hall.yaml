intercom_hall:
  lock:
  - platform: template
    name: intercom_hall
    value_template: "{{ is_state('input_boolean.intercom_hall_open', 'off') }}"
    lock:
    - service: input_boolean.turn_off
      entity_id: input_boolean.intercom_hall_open
    unlock:
    - service: input_boolean.turn_on
      entity_id: input_boolean.intercom_hall_open
    - service: switch.turn_on
      entity_id: switch.intercom_hall
    - delay: 00:00:02.5
    - service: switch.turn_off
      entity_id: switch.intercom_hall
    - service: input_boolean.turn_off
      entity_id: input_boolean.intercom_hall_open

  input_boolean:
    intercom_hall_call:
    intercom_hall_open:
    intercom_hall_enabled:
