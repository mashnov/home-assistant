automation_hal_xiaomi:
  automation:
  - alias: automation_hal_xiaomi_1_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_1
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_1
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_1
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"

  - alias: automation_hal_xiaomi_2_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_2
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_2
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_2
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"

  - alias: automation_hal_xiaomi_3_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_3
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_3
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_3
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"

  - alias: automation_hal_xiaomi_4_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_4
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_4
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_4
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"

  - alias: automation_hal_xiaomi_5_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_5
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_5
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_5
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"

  - alias: automation_hal_xiaomi_6_param
    mode: queued
    trigger:
    - platform: state
      entity_id: sensor.light_night_hall_brightness
    - platform: state
      entity_id: sensor.light_top_hall_temperature
    - platform: state
      entity_id: light.light_xiaomi_hal_6
      from: "off"
      to: "on"
    condition:
    - condition: state
      entity_id: light.light_xiaomi_hal_6
      state: "on"
    action:
    - service: light.turn_off
      entity_id: light.light_xiaomi_hal_6
      data_template:
        brightness: "{{ states('sensor.light_night_hall_brightness') }}"
        color_temp: "{{ states('sensor.light_top_hall_temperature') }}"
