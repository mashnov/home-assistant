- binary_sensor:
  - name: 'night-light'
    device_class: 'plug'
    state: >
      {% set kitchenValue = state_attr('binary_sensor.night_light', 'kitchen') %}
      {% set hallValue = state_attr('binary_sensor.night_light', 'hall') %}
      {% set bedroomValue = state_attr('binary_sensor.night_light', 'bedroom') %}
      {% set livingValue = state_attr('binary_sensor.night_light', 'living') %}
      {% set balconyValue = state_attr('binary_sensor.night_light', 'balcony') %}
      {{ kitchenValue or hallValue or bedroomValue or livingValue or balconyValue }}
    icon: >
      {% set isEnabledIcon = is_state('binary_sensor.night_light', 'on') and 'mdi:light-switch'%}
      {% set isDisabledIcon = is_state('binary_sensor.night_light', 'off') and 'mdi:light-switch-off' %}
      {{ isEnabledIcon or isDisabledIcon }}
    attributes:
      kitchen: "{{ state_attr('binary_sensor.relay', 'kitchen_1') }}"
      bath: "{{ state_attr('binary_sensor.relay', 'bath_1') }}"
      toilet: "{{ state_attr('binary_sensor.relay', 'toilet_2') }}"
      hall: "{{ is_state('light.nightlight_hall', 'on') }}"
      bedroom: "{{ state_attr('binary_sensor.wall_switch', 'bedroom_wall') }}"
      balcony: "{{ state_attr('binary_sensor.relay', 'balcony_1') }}"
