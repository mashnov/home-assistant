- binary_sensor:
  - name: 'top-light'
    device_class: 'plug'
    state: >
      {% set kitchenValue = state_attr('binary_sensor.top_light', 'kitchen') %}
      {% set hallValue = state_attr('binary_sensor.top_light', 'hall') %}
      {% set bedroomValue = state_attr('binary_sensor.top_light', 'bedroom') %}
      {% set livingValue = state_attr('binary_sensor.top_light', 'living') %}
      {{ kitchenValue or hallValue or bedroomValue or livingValue }}
    icon: >
      {% set isEnabledIcon = is_state('binary_sensor.top_light', 'on') and 'mdi:light-switch' %}
      {% set isDisabledIcon = is_state('binary_sensor.top_light', 'off') and 'mdi:light-switch-off' %}
      {{ isEnabledIcon or isDisabledIcon }}
    attributes:
      kitchen: >
        {% set light1Value = state_attr('binary_sensor.top_light', 'kitchen_1') %}
        {% set light2Value = state_attr('binary_sensor.top_light', 'kitchen_2') %}
        {% set light3Value = state_attr('binary_sensor.top_light', 'kitchen_3') %}
        {% set light4Value = state_attr('binary_sensor.top_light', 'kitchen_4') %}
        {% set light5Value = state_attr('binary_sensor.top_light', 'kitchen_5') %}
        {{ light1Value and light2Value and light3Value and light4Value and light5Value }}
      kitchen_1: "{{ is_state('light.tl_kitchen_1', 'on') }}"
      kitchen_2: "{{ is_state('light.tl_kitchen_2', 'on') }}" 
      kitchen_3: "{{ is_state('light.tl_kitchen_3', 'on') }}" 
      kitchen_4: "{{ is_state('light.tl_kitchen_4', 'on') }}" 
      kitchen_5: "{{ is_state('light.tl_kitchen_5', 'on') }}" 
      kitchen_party: "{{ is_state('light.kitchen_party_light', 'on') }}" 
      hall: >
        {% set light1Value = state_attr('binary_sensor.top_light', 'hall_1') %}
        {% set light2Value = state_attr('binary_sensor.top_light', 'hall_2') %}
        {% set light3Value = state_attr('binary_sensor.top_light', 'hall_3') %}
        {% set light4Value = state_attr('binary_sensor.top_light', 'hall_4') %}
        {% set light5Value = state_attr('binary_sensor.top_light', 'hall_5') %}
        {% set light6Value = state_attr('binary_sensor.top_light', 'hall_6') %}
        {{ light1Value and light2Value and light3Value and light4Value and light5Value and light6Value }}
      hall_1: "{{ is_state('light.tl_hall_1', 'on') }}"
      hall_2: "{{ is_state('light.tl_hall_2', 'on') }}"
      hall_3: "{{ is_state('light.tl_hall_3', 'on') }}"
      hall_4: "{{ is_state('light.tl_hall_4', 'on') }}"
      hall_5: "{{ is_state('light.tl_hall_5', 'on') }}"
      hall_6: "{{ is_state('light.tl_hall_6', 'on') }}"
      bedroom: >
        {% set light1Value = state_attr('binary_sensor.top_light', 'bedroom_1') %}
        {% set light2Value = state_attr('binary_sensor.top_light', 'bedroom_2') %}
        {% set light3Value = state_attr('binary_sensor.top_light', 'bedroom_3') %}
        {% set light4Value = state_attr('binary_sensor.top_light', 'bedroom_4') %}
        {% set light5Value = state_attr('binary_sensor.top_light', 'bedroom_5') %}
        {% set light6Value = state_attr('binary_sensor.top_light', 'bedroom_6') %}
        {{ light1Value and light2Value and light3Value and light4Value and light5Value and light6Value }}
      bedroom_1: "{{ is_state('light.tl_bedroom_1', 'on') }}"
      bedroom_2: "{{ is_state('light.tl_bedroom_2', 'on') }}"
      bedroom_3: "{{ is_state('light.tl_bedroom_3', 'on') }}"
      bedroom_4: "{{ is_state('light.tl_bedroom_4', 'on') }}"
      bedroom_5: "{{ is_state('light.tl_bedroom_5', 'on') }}"
      bedroom_6: "{{ is_state('light.tl_bedroom_6', 'on') }}"
      living: >
        {% set light1Value = state_attr('binary_sensor.top_light', 'living_1') %}
        {% set light2Value = state_attr('binary_sensor.top_light', 'living_2') %}
        {% set light3Value = state_attr('binary_sensor.top_light', 'living_3') %}
        {% set light4Value = state_attr('binary_sensor.top_light', 'living_4') %}
        {% set light5Value = state_attr('binary_sensor.top_light', 'living_5') %}
        {% set light6Value = state_attr('binary_sensor.top_light', 'living_6') %}
        {{ light1Value and light2Value and light3Value and light4Value and light5Value and light6Value }}
      living_1: "{{ is_state('light.tl_living_1', 'on') }}"
      living_2: "{{ is_state('light.tl_living_2', 'on') }}"
      living_3: "{{ is_state('light.tl_living_3', 'on') }}"
      living_4: "{{ is_state('light.tl_living_4', 'on') }}"
      living_5: "{{ is_state('light.tl_living_5', 'on') }}"
      living_6: "{{ is_state('light.tl_living_6', 'on') }}"
