## CLOUD
- sensor:
  - name: 'cloud'
    unit_of_measurement: '%'
    state: "{{ state_attr('sensor.cloud', 'level') | int(0) }}"
    icon: >
      {% set isCloudly = state_attr('binary_sensor.cloud', 'cloudly') %}
      {{ iif(isCloudly, 'mdi:cloud', 'mdi:cloud-outline', 'mdi:help-circle') }}
    attributes:
      level: "{{ states('sensor.openweathermap_cloud_coverage') | int(0) }}"

- binary_sensor:
  - name: 'cloud'
    state: "{{ state_attr('binary_sensor.cloud', 'cloudly') }}"
    icon: >
      {% set isCloudly = state_attr('binary_sensor.cloud', 'cloudly') %}
      {{ iif(isCloudly, 'mdi:cloud', 'mdi:cloud-outline', 'mdi:help-circle') }}
    attributes: 
      cloudly: >
        {% set sensorValue = state_attr('sensor.cloud', 'level') | int(0) %}
        {% set targetValue = states('input_number.cloud_target') | int(0) %}
        {{ sensorValue > targetValue }}
