## CLOUD SENSORS
- sensor:
  - name: 'cloud_level'
    unit_of_measurement: '%'
    state: "{{ states('sensor.openweathermap_cloud_coverage') | int(0) }}"
    icon: >
      {% set isCloudly = is_state('binary_sensor.cloud_hight', 'on') %}
      {{ iif(isCloudly, 'mdi:cloud', 'mdi:cloud-outline', 'mdi:help-circle') }}

- binary_sensor:
  - name: 'cloud_hight'
    device_class: 'problem'
    state: >
      {% set sensorValue = states('sensor.cloud_level') | int(0) %}
      {% set targetValue = states('input_number.cloud_target') | int(0) %}
      {{ sensorValue > targetValue }}
    icon: >
      {% set isCloudly = is_state('binary_sensor.cloud_hight', 'on') %}
      {{ iif(isCloudly, 'mdi:cloud', 'mdi:cloud-outline', 'mdi:help-circle') }}
