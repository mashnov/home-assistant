- sensor:
  - name: 'date-time'
    state: "{{ utcnow() }}"
    device_class: 'timestamp'
    icon: "mdi:calendar-clock"
    attributes:
      date_time_zone: '{{ as_timestamp(utcnow()) | timestamp_custom("%d %m %Y %H:%M %z", false) }}'
      local_date_time_zone: '{{ as_timestamp(now()) | timestamp_custom("%d %m %Y %H:%M %z") }}'
      date_time: '{{ as_timestamp(utcnow()) | timestamp_custom("%d %m %Y %H:%M", false) }}'
      local_date_time: '{{ as_timestamp(now()) | timestamp_custom("%d %m %Y %H:%M") }}'
      date: '{{ as_timestamp(utcnow()) | timestamp_custom("%d %m %Y", false) }}'
      local_date: '{{ as_timestamp(now()) | timestamp_custom("%d %m %Y") }}'
      time: '{{ as_timestamp(utcnow()) | timestamp_custom("%H:%M", false) }}'
      local_time: '{{ as_timestamp(now()) | timestamp_custom("%H:%M") }}'
      zone: '{{ as_timestamp(utcnow()) | timestamp_custom("%z", false) }}'
      local_zone: '{{ as_timestamp(now()) | timestamp_custom("%z") }}'

- binary_sensor:
  - name: 'day-time'
    device_class: 'door'
    state: "{{ state_attr('binary_sensor.door', 'hall') }}"
    icon: >
      {% set isClose = is_state('binary_sensor.door', 'off') %}
      {% set closeIcon = 'mdi:door-closed' %}
      {% set openIcon = 'mdi:door-open' %}
      {{ iif(isClose, closeIcon, openIcon) }}
    attributes:
      night: "{{ is_state('binary_sensor.vr_door_toilet', 'on') }}"
      morning: "{{ is_state('binary_sensor.vr_door_hall', 'on') }}"
      day: "{{ is_state('binary_sensor.vr_door_bedroom', 'on') }}"
      evening: "{{ is_state('binary_sensor.vr_door_living', 'on') }}"
