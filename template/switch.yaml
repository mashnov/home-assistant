## SWITCH ON SENSORS
- binary_sensor:
  - name: 'switch_kitchen_1_on'
    device_class: 'plug'
    state: "{{ is_state('switch.kitchen_switch_left', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_kitchen_1_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_kitchen_2_on'
    device_class: 'plug'
    state: "{{ is_state('switch.kitchen_switch_right', 'on') }}" 
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_kitchen_2_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_bath_on'
    device_class: 'plug'
    state: "{{ is_state('switch.hall_switch_restroom_left', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_bath_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_toilet_on'
    device_class: 'plug'
    state: "{{ is_state('switch.hall_switch_restroom_right', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_toilet_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_hall_on'
    device_class: 'plug'
    state: "{{ is_state('switch.hall_switch', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_hall_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_bedroom_1_on'
    device_class: 'plug'
    state: "{{ is_state('switch.bedroom_switch_left', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_bedroom_1_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_bedroom_2_on'
    device_class: 'plug'
    state: "{{ is_state('switch.bedroom_switch_right', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_bedroom_2_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_bedroom_3_on'
    device_class: 'plug'
    state: "{{ is_state('switch.bedroom_wall_switch', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_bedroom_3_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_bedroom_on'
    device_class: 'plug'
    state: >
      {% set isEnableLeft = is_state('binary_sensor.switch_bedroom_1_on', 'on') %}
      {% set isEnableRight = is_state('binary_sensor.switch_bedroom_2_on', 'on') %}    
      {{ isEnableLeft and isEnableRight }}
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_bedroom_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_living_1_on'
    device_class: 'plug'
    state: "{{ is_state('switch.living_switch_left', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_living_1_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_living_2_on'
    device_class: 'plug'
    state: "{{ is_state('switch.living_switch_right', 'on') }}"
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_living_2_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

  - name: 'switch_living_on'
    device_class: 'plug'
    state: >
      {% set isEnableLeft = is_state('binary_sensor.switch_living_1_on', 'on') %}
      {% set isEnableRight = is_state('binary_sensor.switch_living_2_on', 'on') %}    
      {{ isEnableLeft and isEnableRight }}
    icon: >
      {% set isEnable = is_state('binary_sensor.switch_living_on', 'on') %}
      {{ iif(isEnable, 'mdi:light-switch', 'mdi:light-switch-off', 'mdi:help-circle') }}

## SWITCH PERMISSION
  - name: 'switch_kitchen_left_permission' ### top light
    device_class: 'lock'
    icon: 'mdi:check-all'
    state: >
      {% set lightPermission = is_state('binary_sensor.top_light_kitchen_permission', 'on') %}
      {% set switchIsOff = is_state('binary_sensor.switch_kitchen_left_on', 'off') %}
      {{ lightPermission and switchIsOff }}

  - name: 'switch_kitchen_right_permission' ### back & night light 
    device_class: 'lock'
    icon: 'mdi:check-all'
    state: >
      {% set backLightPermission = is_state('binary_sensor.back_light_kitchen_permission', 'on') %}
      {% set nightLightPermission = is_state('binary_sensor.night_light_kitchen_permission', 'on') %}
      {% set lightPermission = backLightPermission or nightLightPermission %}
      {% set switchIsOff = is_state('binary_sensor.switch_kitchen_right_on', 'off') %}
      {{ lightPermission and switchIsOff }}

  - name: 'switch_hall_permission'
    device_class: 'lock'
    icon: 'mdi:check-all'
    state: >
      {% set lightPermission = is_state('binary_sensor.top_light_hall_permission', 'on') %}
      {% set switchIsOff = is_state('binary_sensor.switch_hall_on', 'off') %}
      {{ lightPermission and switchIsOff }}

  - name: 'switch_bedroom_permission'
    device_class: 'lock'
    icon: 'mdi:check-all'
    state: >
      {% set lightPermission = is_state('binary_sensor.top_light_bedroom_permission', 'on') %}
      {% set switchIsOff = is_state('binary_sensor.switch_bedroom_on', 'off') %}
      {{ lightPermission and switchIsOff }}

  - name: 'switch_living_permission'
    device_class: 'lock'
    icon: 'mdi:check-all'
    state: >
      {% set lightPermission = is_state('binary_sensor.top_light_living_permission', 'on') %}
      {% set switchIsOff = is_state('binary_sensor.switch_living_on', 'off') %}
      {{ lightPermission and switchIsOff }}
