## VENTILATION
- binary_sensor:
  - name: 'ventilation'
    device_class: 'opening'
    state: >
      {% set kitchenValue = state_attr('binary_sensor.ventilation', 'kitchen') %}
      {% set hallValue = state_attr('binary_sensor.ventilation', 'hall') %}
      {% set bedroomValue = state_attr('binary_sensor.ventilation', 'bedroom') %}
      {% set livingValue = state_attr('binary_sensor.ventilation', 'living') %}
      {{ kitchenValue or hallValue or bedroomValue or livingValue }}
    icon: >
      {% set isOpenIcon = is_state('binary_sensor.ventilation', 'on') %}
      {{ iif(isOpenIcon, 'mdi:weather-windy', 'mdi:tailwind', 'mdi:help-circle') }}
    attributes:
      kitchen: >
        {% set leftValue = state_attr('binary_sensor.window', 'kitchen_left') %}
        {% set rightValue = state_attr('binary_sensor.window', 'kitchen_right') %}
        {{ leftValue or rightValue }}
      hall: >
        {% set d_hall = state_attr('binary_sensor.door', 'hall') %}
        {% set d_bedroom = state_attr('binary_sensor.door', 'bedroom') %}
        {% set d_living = state_attr('binary_sensor.door', 'living') %}
        {% set v_kitchen = state_attr('binary_sensor.ventilation', 'kitchen') %}
        {% set v_bedroom = state_attr('binary_sensor.ventilation', 'bedroom') %}
        {% set v_living = state_attr('binary_sensor.ventilation', 'living') %}
        {% set bedroomValue = v_bedroom and d_bedroom %}
        {% set livingValue = v_living and d_living %}
        {{ v_kitchen or d_hall or bedroomValue or livingValue }}
      bedroom: >
        {% set leftValue = state_attr('binary_sensor.window', 'bedroom_left') %}
        {% set rightValue = state_attr('binary_sensor.window', 'bedroom_right') %}
        {{ leftValue or rightValue }}
      living: "{{ state_attr('binary_sensor.window', 'living') }}"
